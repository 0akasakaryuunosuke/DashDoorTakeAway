(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/confirm/confirm"],{82:function(e,n,t){"use strict";(function(e,n){var s=t(4);t(26);s(t(25));var r=s(t(83));e.__webpack_require_UNI_MP_PLUGIN__=t,n(r.default)}).call(this,t(1)["default"],t(2)["createPage"])},83:function(e,n,t){"use strict";t.r(n);var s=t(84),r=t(86);for(var o in r)["default"].indexOf(o)<0&&function(e){t.d(n,e,(function(){return r[e]}))}(o);var i,d=t(32),c=Object(d["default"])(r["default"],s["render"],s["staticRenderFns"],!1,null,null,null,!1,s["components"],i);c.options.__file="pages/confirm/confirm.vue",n["default"]=c.exports},84:function(e,n,t){"use strict";t.r(n);var s=t(85);t.d(n,"render",(function(){return s["render"]})),t.d(n,"staticRenderFns",(function(){return s["staticRenderFns"]})),t.d(n,"recyclableRender",(function(){return s["recyclableRender"]})),t.d(n,"components",(function(){return s["components"]}))},85:function(e,n,t){"use strict";var s;t.r(n),t.d(n,"render",(function(){return r})),t.d(n,"staticRenderFns",(function(){return i})),t.d(n,"recyclableRender",(function(){return o})),t.d(n,"components",(function(){return s}));try{s={uniIcons:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(t.bind(null,173))},uniDataCheckbox:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uni-data-checkbox/components/uni-data-checkbox/uni-data-checkbox")]).then(t.bind(null,257))}}}catch(d){if(-1===d.message.indexOf("Cannot find module")||-1===d.message.indexOf(".vue"))throw d;console.error(d.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var r=function(){var e=this,n=e.$createElement;e._self._c},o=!1,i=[];r._withStripped=!0},86:function(e,n,t){"use strict";t.r(n);var s=t(87),r=t.n(s);for(var o in s)["default"].indexOf(o)<0&&function(e){t.d(n,e,(function(){return s[e]}))}(o);n["default"]=r.a},87:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t={data:function(){return{businessId:0,addressId:0,comment:"",user:e.getStorageSync("xm-user"),cartList:[],amount:{},business:{},address:{},payType:"支付宝",range:[{value:"支付宝",text:"支付宝"},{value:"微信支付",text:"微信支付"}]}},onShow:function(){var n=e.getStorageSync("xm-orders");this.businessId=n.businessId||0,this.addressId=n.addressId||0,this.comment=n.comment||"",this.loadCart(),this.loadAddress()},methods:{addOrder:function(){if(this.addressId){var n={businessId:this.businessId,comment:this.comment,user:this.address.user,address:this.address.address,phone:this.address.phone,payType:this.payType};this.$request.post("/orders/addOrder",n).then((function(n){"200"===n.code?(e.removeStorageSync("xm-orders"),e.showToast({icon:"success",title:"操作成功"}),setTimeout((function(){e.switchTab({url:"/pages/orders/orders"})}),500)):e.showToast({icon:"error",title:n.msg})}))}else e.showToast({icon:"error",title:"请选择地址"})},loadAddress:function(){var e=this;this.$request.get("/address/selectById/"+this.addressId).then((function(n){e.address=n.data||{}}))},loadCart:function(){var e=this;this.$request.get("/cart/selectAll",{userId:this.user.id,businessId:this.businessId}).then((function(n){e.cartList=n.data||[],e.cartList.length&&(e.business=e.cartList[0].business||{})})),this.$request.get("/cart/calc",{userId:this.user.id,businessId:this.businessId}).then((function(n){e.amount=n.data||{}}))}}};n.default=t}).call(this,t(2)["default"])}},[[82,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/confirm/confirm.js.map